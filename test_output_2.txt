
> frontend@0.0.0 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mE:/disqueria-front-react[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mâœ“[39m src/tests/components/ui/LanguageSwitcher.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 291[2mms[22m[39m
 [32mâœ“[39m src/tests/components/ui/Toast.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 348[2mms[22m[39m
 [32mâœ“[39m src/tests/components/ui/Button.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 617[2mms[22m[39m
     [33m[2mâœ“[22m[39m renders children correctly [33m 342[2mms[22m[39m
 [32mâœ“[39m src/tests/components/ui/ConfirmationModal.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 431[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows loading state [33m 301[2mms[22m[39m
 [32mâœ“[39m src/tests/pages/RegisterPage.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 474[2mms[22m[39m
     [33m[2mâœ“[22m[39m calls register API on valid submission [33m 319[2mms[22m[39m
 [32mâœ“[39m src/tests/pages/LoginPage.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 477[2mms[22m[39m
     [33m[2mâœ“[22m[39m renders login form [33m 319[2mms[22m[39m
 [32mâœ“[39m src/tests/components/catalog/CreateAlbumModal.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 592[2mms[22m[39m
     [33m[2mâœ“[22m[39m allows valid submission [33m 367[2mms[22m[39m
 [32mâœ“[39m src/tests/context/AuthContext.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 123[2mms[22m[39m
 [32mâœ“[39m src/tests/components/ui/Input.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 480[2mms[22m[39m
[90mstderr[2m | src/tests/components/catalog/CreateArtistModal.test.tsx[2m > [22m[2mCreateArtistModal[2m > [22m[2mhandles API error
[22m[39mFailed to create artist Error: Failed
    at E:/disqueria-front-react/src/tests/components/catalog/CreateArtistModal.test.tsx:59:49
    at [90mfile:///E:/disqueria-front-react/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:145:11
    at [90mfile:///E:/disqueria-front-react/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:915:26
    at [90mfile:///E:/disqueria-front-react/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///E:/disqueria-front-react/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1209:10[90m)[39m
    at [90mfile:///E:/disqueria-front-react/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1653:37
    at Traces.$ [90m(file:///E:/disqueria-front-react/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///E:/disqueria-front-react/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///E:/disqueria-front-react/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1653:12[90m)[39m

 [32mâœ“[39m src/tests/components/ProtectedRoute.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 74[2mms[22m[39m
 [32mâœ“[39m src/tests/components/catalog/CreateArtistModal.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 136[2mms[22m[39m
 [32mâœ“[39m src/tests/pages/CatalogPage.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 291[2mms[22m[39m
 [32mâœ“[39m src/tests/context/ToastContext.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 90[2mms[22m[39m
[90mstderr[2m | src/tests/pages/OrdersPage.test.tsx[2m > [22m[2mOrdersPage[2m > [22m[2mhandles loading state
[22m[39mAn update to OrdersPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OrdersPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OrdersPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/tests/pages/OrdersPage.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 137[2mms[22m[39m
 [32mâœ“[39m src/tests/api/catalog.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/tests/api/orders.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/tests/api/users.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/tests/api/auth.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m

[2m Test Files [22m [1m[32m18 passed[39m[22m[90m (18)[39m
[2m      Tests [22m [1m[32m64 passed[39m[22m[90m (64)[39m
[2m   Start at [22m 21:25:21
[2m   Duration [22m 8.37s[2m (transform 1.84s, setup 4.51s, import 8.02s, tests 4.59s, environment 26.56s)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   87.73 |    77.47 |   84.26 |   87.57 |                   
 api               |   85.71 |        0 |   81.81 |   85.71 |                   
  auth.ts          |     100 |      100 |     100 |     100 |                   
  catalog.ts       |     100 |      100 |     100 |     100 |                   
  client.ts        |    37.5 |        0 |       0 |    37.5 | 15-21             
  orders.ts        |     100 |      100 |     100 |     100 |                   
  users.ts         |     100 |      100 |     100 |     100 |                   
 components        |     100 |      100 |     100 |     100 |                   
  ...ctedRoute.tsx |     100 |      100 |     100 |     100 |                   
 ...onents/catalog |   94.28 |    94.73 |     100 |   94.11 |                   
  ...lbumModal.tsx |    91.3 |    93.33 |     100 |   91.11 | 41-42,72-73       
  ...tistModal.tsx |     100 |      100 |     100 |     100 |                   
 components/ui     |     100 |    95.23 |     100 |     100 |                   
  Button.tsx       |     100 |      100 |     100 |     100 |                   
  ...tionModal.tsx |     100 |      100 |     100 |     100 |                   
  Input.tsx        |     100 |      100 |     100 |     100 |                   
  ...eSwitcher.tsx |     100 |       50 |     100 |     100 | 9                 
  Toast.tsx        |     100 |      100 |     100 |     100 |                   
 context           |     100 |      100 |   86.66 |     100 |                   
  AuthContext.tsx  |     100 |      100 |   71.42 |     100 |                   
  ToastContext.tsx |     100 |      100 |     100 |     100 |                   
 pages             |   79.19 |    66.66 |   74.35 |   79.16 |                   
  CatalogPage.tsx  |   61.64 |    56.66 |   54.54 |   60.86 | ...37,178,214-246 
  LoginPage.tsx    |     100 |       80 |     100 |     100 | 37,44             
  OrdersPage.tsx   |   89.28 |    70.58 |     100 |   88.88 | 22-23,35          
  RegisterPage.tsx |     100 |    83.33 |     100 |     100 | 27                
-------------------|---------|----------|---------|---------|-------------------
